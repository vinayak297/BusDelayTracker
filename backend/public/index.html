<!DOCTYPE html>
<html>
<head>
  <title>Bus Delay Tracker</title>
  <meta charset="UTF-8" />
</head>
<body>
  <h1>ğŸšŒ Bus Delay Tracker</h1>

  <p id="status">Loading...</p>

  <button onclick="stillWaiting()">â³ Still Waiting</button>
  <button onclick="busArrived()">âœ… Bus Arrived</button>

  <script>
    async function loadStatus() {
      const res = await fetch("/bus");
      const data = await res.json();

      document.getElementById("status").innerText =
        `Bus ${data.busNumber} | ETA: ${data.etaMinutes} min | Status: ${data.status}`;
    }

    async function stillWaiting() {
      await fetch("/still-waiting");
      loadStatus();
    }

    async function busArrived() {
      await fetch("/bus-arrived");
      loadStatus();
    }

    loadStatus();
  </script>
</body>
</html>

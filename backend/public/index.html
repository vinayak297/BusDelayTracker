<!DOCTYPE html>
<html>
<head>
  <title>Bus Delay Tracker</title>
</head>
<body>
  <h1>üöå Bus Delay Tracker</h1>

  <p id="status">Loading...</p>
  <p id="crowd">Crowd confirmations: 0 / 3</p>

  <button onclick="stillWaiting()">‚è≥ Still Waiting</button>
  <button onclick="busArrived()">‚úÖ Bus Arrived</button>

  <script>
    const API = "";

    async function loadStatus() {
      const res = await fetch(API + "/bus");
      const data = await res.json();

      document.getElementById("status").innerText =
        `Bus ${data.busNumber} | ETA: ${data.etaMinutes} min | Status: ${data.status}`;

      document.getElementById("crowd").innerText =
        `Crowd confirmations: ${data.waitingCount} / 3`;
    }

    async function stillWaiting() {
      await fetch(API + "/still-waiting");
      loadStatus();
    }

    async function busArrived() {
      await fetch(API + "/bus-arrived");
      loadStatus();
    }

    loadStatus();
  </script>
</body>
</html>
